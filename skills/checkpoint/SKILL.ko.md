# 체크포인트 스킬

현재 컨텍스트를 수동으로 저장하는 체크포인트 기능입니다.

## 사용법

```
/checkpoint "메시지"
```

## 동작

1. 현재 Protected Context 저장
2. 사용자 메시지와 함께 시맨틱 앵커 생성
3. 복구 시 참조 가능한 체크포인트 등록

## 예시

```
/checkpoint "인증 시스템 구현 완료, JWT 방식 선택"
/checkpoint "버그 수정: 로그인 리다이렉트 문제 해결"
/checkpoint "리팩토링 전 상태 백업"
```

---

## 스킬 실행 지침

사용자가 `/checkpoint` 명령을 실행하면 **반드시** 다음 단계를 수행하세요:

### 1. 메시지 파싱
- `/checkpoint` 뒤의 텍스트를 체크포인트 메시지로 사용
- 메시지가 없으면 "수동 체크포인트" 사용

### 2. 체크포인트 저장 (필수 실행)

**Bash 도구를 사용하여 다음 명령을 실행하세요:**

```bash
python ~/.claude/hooks/checkpoint_wrapper.py "체크포인트 메시지"
```

예시:
```bash
python ~/.claude/hooks/checkpoint_wrapper.py "인증 시스템 구현 완료"
```

### 3. 결과 확인 및 보고

명령 실행 결과를 사용자에게 보고하세요:

```
체크포인트 저장됨: "{message}"
- 시간: {timestamp}
- 활성 파일: {count}개
- /compact 후에도 이 체크포인트 정보는 복구됩니다.
```

### 주의사항
- 체크포인트는 코드 상태가 아닌 **컨텍스트 상태**를 저장
- Git 커밋과는 별개 (필요시 함께 사용 권장)
- Compact 후에도 체크포인트 정보는 복구됨

### 에러 처리
- 스크립트 실행 실패 시: "체크포인트 저장에 실패했습니다. 로그를 확인해주세요."
- 메시지 누락 시: "수동 체크포인트"를 기본값으로 사용
